<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Dili Öğrenme Oyunu - Hesap Makinesi Yapımı</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e1e2f 0%, #2a2a40 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: linear-gradient(90deg, #2a2a40 0%, #1e1e2f 100%);
            color: white;
            padding: 15px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .game-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-direction: column;
            min-height: 600px;
        }
        @media (min-width: 992px) {
            .game-container {
                flex-direction: row;
            }
        }
        .editor-section {
            flex: 1;
            background-color: #2a2a40;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            padding: 20px;
            transition: transform 0.3s ease;
        }
        .editor-section:hover {
            transform: scale(1.02);
        }
        .preview-section {
            flex: 1;
            background-color: #2a2a40;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            padding: 20px;
            min-height: 500px;
            overflow: auto;
            transition: transform 0.3s ease;
        }
        .preview-section:hover {
            transform: scale(1.02);
        }
       h1, h2, h3 {
    background: linear-gradient(90deg, #6366f1 0%, #ec4899 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

        textarea {
            width: 100%;
            height: 200px;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            resize: vertical;
            background-color: #1e1e2f;
            color: #e0e0e0;
            transition: border-color 0.3s ease;
            font-size: 14px;
        }
        textarea:focus {
            border-color: #de4a9b;
            outline: none;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        button {
            background: linear-gradient(90deg, #ff6f61 0%, #de4a9b 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        button:hover {
            background: linear-gradient(90deg, #de4a9b 0%, #ff6f61 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }
        button:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .level-indicator {
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 18px;
            color: #de4a9b;
        }
        .instruction {
            background-color: #3a3a50;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 15px;
            border-left: 4px solid #ff6f61;
            transition: opacity 0.5s ease;
        }
        .preview-container {
            border: 1px solid #444;
            border-radius: 4px;
            padding: 15px;
            min-height: 300px;
            background-color: #1e1e2f;
            color: #e0e0e0;
            overflow: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            white-space: pre-wrap;
        }
        .hint {
            background-color: #ffeb3b33;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            border-left: 4px solid #ffeb3b;
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .hint.show {
            display: block;
            opacity: 1;
        }
        .success-message {
            background-color: #4caf5033;
            color: #4caf50;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            border-left: 4px solid #4caf50;
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .success-message.show {
            display: block;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>C Dili Öğrenme Oyunu - Hesap Makinesi Yapımı</h1>
            <p>Adım adım C programlama öğrenerek kendi hesap makinenizi oluşturun!</p>
        </header>

        <div class="game-container">
            <div class="editor-section">
                <div class="level-indicator">Seviye: <span id="level-number">1</span> - <span id="level-title">Temel Program Yapısı</span></div>
                <div class="instruction" id="instruction">
                    <p><strong>Görev:</strong> C programının temel yapısını oluşturun. <code>#include &lt;stdio.h&gt;</code> kütüphanesini dahil edin ve <code>main()</code> fonksiyonunu yazın.</p>
                    <p>Her C programı <code>main()</code> fonksiyonu ile başlar ve <code>stdio.h</code> kütüphanesi giriş/çıkış işlemleri için gereklidir.</p>
                </div>
                <textarea id="code-editor" placeholder="C kodunuzu buraya yazın..."></textarea>
                <div class="button-container">
                    <button id="hint-button">İpucu</button>
                    <button id="check-button">Kontrol Et</button>
                    <button id="next-button" disabled>Sonraki Seviye</button>
                </div>
                <div class="hint" id="hint">
                    <p>İpucu: İlk satırda <code>#include &lt;stdio.h&gt;</code> yazın, sonra <code>int main() { return 0; }</code> yapısını kullanın.</p>
                </div>
                <div class="success-message" id="success-message">
                    <p>Harika! Doğru cevap. Sonraki seviyeye geçebilirsiniz.</p>
                </div>
            </div>

            <div class="preview-section">
                <h2>Kod Önizleme</h2>
                <div class="preview-container" id="preview-container">
                    <!-- C kodu burada gösterilecek -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Oyun verileri - her seviye için görevler
        const levels = [
            {
                title: "Temel Program Yapısı",
                instruction: "<strong>Görev:</strong> C programının temel yapısını oluşturun. <code>#include &lt;stdio.h&gt;</code> kütüphanesini dahil edin ve <code>main()</code> fonksiyonunu yazın.",
                hint: "İpucu: <code>#include &lt;stdio.h&gt;<br>int main() {<br>&nbsp;&nbsp;return 0;<br>}</code>",
                solution: "#include <stdio.h>\nint main() {\n    return 0;\n}",
                check: function(code) {
                    return code.includes("#include <stdio.h>") && code.includes("int main()") && code.includes("return 0;");
                }
            },
            {
                title: "İlk Ekran Çıktısı",
                instruction: "<strong>Görev:</strong> Programınıza ilk ekran çıktısını ekleyin. <code>printf()</code> fonksiyonu ile \"Hesap Makinesi Programı\" yazdırın.",
                hint: "İpucu: <code>printf(\"Hesap Makinesi Programı\\n\");</code> komutunu main fonksiyonu içine yazın.",
                solution: "printf(\"Hesap Makinesi Programı\\n\");",
                check: function(code) {
                    return code.includes("printf(\"Hesap Makinesi Programı\\n\");");
                }
            },
            {
                title: "Değişken Tanımlama",
                instruction: "<strong>Görev:</strong> Hesap makinesi için gerekli değişkenleri tanımlayın. İki adet <code>float</code> tipinde sayı değişkeni (<code>sayi1</code>, <code>sayi2</code>) ve bir adet <code>char</code> tipinde işlem değişkeni (<code>islem</code>) tanımlayın.",
                hint: "İpucu: <code>float sayi1, sayi2;<br>char islem;</code>",
                solution: "float sayi1, sayi2;\nchar islem;",
                check: function(code) {
                    return code.includes("float sayi1") && code.includes("sayi2") && code.includes("char islem");
                }
            },
            {
                title: "Kullanıcıdan Girdi Alma",
                instruction: "<strong>Görev:</strong> Kullanıcıdan ilk sayıyı alın. <code>printf()</code> ile \"Birinci sayıyı girin: \" mesajını yazdırın ve <code>scanf()</code> ile <code>sayi1</code> değişkenine değer atayın.",
                hint: "İpucu: <code>printf(\"Birinci sayıyı girin: \");<br>scanf(\"%f\", &sayi1);</code>",
                solution: "printf(\"Birinci sayıyı girin: \");\nscanf(\"%f\", &sayi1);",
                check: function(code) {
                    return code.includes("printf(\"Birinci sayıyı girin: \");") && code.includes("scanf(\"%f\", &sayi1);");
                }
            },
            {
                title: "İşlem Seçimi",
                instruction: "<strong>Görev:</strong> Kullanıcıdan hangi işlemi yapmak istediğini sorun. <code>printf()</code> ile \"İşlem seçin (+, -, *, /): \" yazdırın ve <code>scanf()</code> ile <code>islem</code> değişkenine atayın.",
                hint: "İpucu: <code>printf(\"İşlem seçin (+, -, *, /): \");<br>scanf(\" %c\", &islem);</code> (Boşluğa dikkat edin!)",
                solution: "printf(\"İşlem seçin (+, -, *, /): \");\nscanf(\" %c\", &islem);",
                check: function(code) {
                    return code.includes("printf(\"İşlem seçin (+, -, *, /): \");") && code.includes("scanf(\" %c\", &islem);");
                }
            },
            {
                title: "İkinci Sayı Girişi",
                instruction: "<strong>Görev:</strong> Kullanıcıdan ikinci sayıyı alın. <code>printf()</code> ile \"İkinci sayıyı girin: \" mesajını yazdırın ve <code>scanf()</code> ile <code>sayi2</code> değişkenine değer atayın.",
                hint: "İpucu: <code>printf(\"İkinci sayıyı girin: \");<br>scanf(\"%f\", &sayi2);</code>",
                solution: "printf(\"İkinci sayıyı girin: \");\nscanf(\"%f\", &sayi2);",
                check: function(code) {
                    return code.includes("printf(\"İkinci sayıyı girin: \");") && code.includes("scanf(\"%f\", &sayi2);");
                }
            },
            {
                title: "Switch-Case Yapısı",
                instruction: "<strong>Görev:</strong> İşlem türüne göre hesaplama yapmak için <code>switch-case</code> yapısını oluşturun. <code>switch(islem)</code> ile başlayın ve <code>case '+':</code> için toplama işlemini ekleyin.",
                hint: "İpucu: <code>switch(islem) {<br>&nbsp;&nbsp;case '+':<br>&nbsp;&nbsp;&nbsp;&nbsp;printf(\"Sonuç: %.2f\\n\", sayi1 + sayi2);<br>&nbsp;&nbsp;&nbsp;&nbsp;break;<br>}</code>",
                solution: "switch(islem) {\n    case '+':\n        printf(\"Sonuç: %.2f\\n\", sayi1 + sayi2);\n        break;\n}",
                check: function(code) {
                    return code.includes("switch(islem)") && code.includes("case '+'") && code.includes("sayi1 + sayi2") && code.includes("break;");
                }
            },
            {
                title: "Diğer İşlemler",
                instruction: "<strong>Görev:</strong> Switch-case yapısına çıkarma, çarpma ve bölme işlemlerini ekleyin. <code>case '-':</code>, <code>case '*':</code> ve <code>case '/':</code> durumlarını ekleyin.",
                hint: "İpucu: <code>case '-':<br>&nbsp;&nbsp;printf(\"Sonuç: %.2f\\n\", sayi1 - sayi2);<br>&nbsp;&nbsp;break;<br>case '*':<br>&nbsp;&nbsp;printf(\"Sonuç: %.2f\\n\", sayi1 * sayi2);<br>&nbsp;&nbsp;break;<br>case '/':<br>&nbsp;&nbsp;printf(\"Sonuç: %.2f\\n\", sayi1 / sayi2);<br>&nbsp;&nbsp;break;</code>",
                solution: "case '-':\n    printf(\"Sonuç: %.2f\\n\", sayi1 - sayi2);\n    break;\ncase '*':\n    printf(\"Sonuç: %.2f\\n\", sayi1 * sayi2);\n    break;\ncase '/':\n    printf(\"Sonuç: %.2f\\n\", sayi1 / sayi2);\n    break;",
                check: function(code) {
                    return code.includes("case '-'") && code.includes("case '*'") && code.includes("case '/'") && 
                           code.includes("sayi1 - sayi2") && code.includes("sayi1 * sayi2") && code.includes("sayi1 / sayi2");
                }
            },
            {
                title: "Hata Kontrolü",
                instruction: "<strong>Görev:</strong> Geçersiz işlem girişi için hata kontrolü ekleyin. <code>default:</code> durumunu ekleyerek \"Geçersiz işlem!\" mesajını yazdırın.",
                hint: "İpucu: <code>default:<br>&nbsp;&nbsp;printf(\"Geçersiz işlem!\\n\");</code>",
                solution: "default:\n    printf(\"Geçersiz işlem!\\n\");",
                check: function(code) {
                    return code.includes("default:") && code.includes("printf(\"Geçersiz işlem!\\n\");");
                }
            },
            {
                title: "Bölme Sıfır Kontrolü",
                instruction: "<strong>Son Görev:</strong> Bölme işleminde sıfıra bölme hatası kontrolü ekleyin. Bölme case'ini güncelleyerek <code>if(sayi2 != 0)</code> kontrolü yapın, değilse \"Sıfıra bölme hatası!\" yazdırın.",
                hint: "İpucu: <code>case '/':<br>&nbsp;&nbsp;if(sayi2 != 0)<br>&nbsp;&nbsp;&nbsp;&nbsp;printf(\"Sonuç: %.2f\\n\", sayi1 / sayi2);<br>&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;printf(\"Sıfıra bölme hatası!\\n\");<br>&nbsp;&nbsp;break;</code>",
                solution: "if(sayi2 != 0)\n    printf(\"Sonuç: %.2f\\n\", sayi1 / sayi2);\nelse\n    printf(\"Sıfıra bölme hatası!\\n\");",
                check: function(code) {
                    return code.includes("if(sayi2 != 0)") && code.includes("else") && code.includes("Sıfıra bölme hatası!");
                }
            }
        ];

        // DOM elementlerini seçme
        const codeEditor = document.getElementById('code-editor');
        const previewContainer = document.getElementById('preview-container');
        const levelNumber = document.getElementById('level-number');
        const levelTitle = document.getElementById('level-title');
        const instruction = document.getElementById('instruction');
        const hintButton = document.getElementById('hint-button');
        const checkButton = document.getElementById('check-button');
        const nextButton = document.getElementById('next-button');
        const hintDiv = document.getElementById('hint');
        const successMessage = document.getElementById('success-message');

        // Mevcut seviye ve toplam C kodu
        let currentLevel = 0;
        let totalCCode = "";

        // İlk seviyeyi yükle
        loadLevel(currentLevel);

        // Seviye yükleme fonksiyonu
        function loadLevel(levelIndex) {
            const level = levels[levelIndex];
            levelNumber.textContent = levelIndex + 1;
            levelTitle.textContent = level.title;
            instruction.innerHTML = level.instruction;
            hintDiv.innerHTML = level.hint;
            codeEditor.value = "";
            successMessage.style.display = "none";
            successMessage.classList.remove("show");
            hintDiv.style.display = "none";
            hintDiv.classList.remove("show");
            nextButton.disabled = true;
            
            // Son seviyede butonun metnini değiştir
            if (levelIndex === levels.length - 1) {
                nextButton.textContent = "Tamamla";
            } else {
                nextButton.textContent = "Sonraki Seviye";
            }

            // Seviye geçiş animasyonu için opacity sıfırlama
            instruction.style.opacity = 0;
            setTimeout(() => {
                instruction.style.opacity = 1;
            }, 100);
        }

        // Önizleme güncelleme
        codeEditor.addEventListener('input', function() {
            updatePreview(totalCCode + codeEditor.value);
        });

        // Önizleme fonksiyonu
        function updatePreview(code) {
            previewContainer.textContent = code;
        }

        // İpucu gösterme
        hintButton.addEventListener('click', function() {
            hintDiv.style.display = "block";
            hintDiv.classList.add("show");
        });

        // Kontrol etme
        checkButton.addEventListener('click', function() {
            const level = levels[currentLevel];
            const userCode = codeEditor.value;
            
            if (level.check(userCode)) {
                // Toplam koda ekle
                totalCCode += userCode + "\n";
                
                // Önizlemeyi güncelle
                updatePreview(totalCCode);
                
                successMessage.style.display = "block";
                successMessage.classList.add("show");
                nextButton.disabled = false;
            } else {
                alert("Henüz doğru değil. Tekrar deneyin veya ipucu alın!");
            }
        });

        // Sonraki seviye
        nextButton.addEventListener('click', function() {
            if (currentLevel < levels.length - 1) {
                currentLevel++;
                loadLevel(currentLevel);
            } else {
                // Oyun bitti
                instruction.innerHTML = "<strong>Tebrikler!</strong> Tüm seviyeleri tamamladınız ve kendi hesap makinenizi oluşturdunuz! Şimdi bu C kodunu bir dosyaya kaydedip derleyebilirsiniz.";
                codeEditor.value = totalCCode;
                successMessage.style.display = "none";
                checkButton.disabled = true;
                nextButton.disabled = true;
                hintButton.disabled = true;
            }
        });
    </script>
</body>
</html>